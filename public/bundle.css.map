{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\src\\App.svelte",
    "..\\src\\components\\Board.svelte",
    "..\\src\\components\\Setup.svelte",
    "..\\src\\components\\Score.svelte",
    "..\\src\\components\\Cell.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import Board from './components/Board.svelte';\n  import Setup from './components/Setup.svelte';\n  import Score from './components/Score.svelte';\n  \n  let matches = 0;\n  let wins = { O: 0, X: 0 };\n  let scale = 3;\n  let gameStatus = 'start';\n  let board = {};\n  let mirrorBoard = {};\n  let activePlayer = 'X';\n  let moves = 0;\n\n  $: for (let row = 0; row < scale; row++) { \n    board[row] = {};\n    mirrorBoard[row] = {};\n    \n    for (let col = 0; col < scale; col++) {\n      board[row][col] = '!';\n      mirrorBoard[row][col] = 'f';\n    }\n  }\n\n  $: notActivePlayer = activePlayer === 'X' \n    ? 'O'\n    : 'X';\n\n  function startGame(event) {\n    scale = event.detail;\n    gameStatus = 'turn';\n  }\n\n  function restart() {\n    scale = 0;\n    moves = 0;\n    gameStatus = 'start';\n  }\n\n  function makeStep(event) {\n    moves++;\n    updateBoards(event.detail);\n    updateGameStatus();\n    updateActivePlayer();\n  }\n\n  function updateBoards(info) {\n    board[info.row][info.col] = activePlayer;\n    mirrorBoard[info.col][info.row] = activePlayer;\n  }\n\n  function updateGameStatus() {\n    if (moves === scale * scale) {\n      gameStatus = 'draw';\n      matches++;\n    }\n    else if (isActivePlayerWin()) {\n      gameStatus = 'win';\n      matches++;\n      wins[activePlayer]++;\n    }\n  }\n\n  function updateActivePlayer() {\n    activePlayer = notActivePlayer;\n  }\n\n  function isActivePlayerWin() {\n    return isWinByСross(board) \n      || isWinByСross(mirrorBoard) \n      || isWinBySlash();\n  }\n\n  function isWinByСross(activeBoard) {\n    const rows = Object.keys(activeBoard)\n\n    for (const row of rows) {\n      if (Object.values(activeBoard[row]).every(val => val === activePlayer)) {        \n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function isWinBySlash() {\n    const slash = [];\n    const backSlash = [];\n\n    for (let i = 0; i < scale; i++) {\n      for (let j = 0; j < scale; j++) {\n        if (i === j) {\n          slash.push(board[i][j]);\n        } \n        else if (i + j === scale - 1) {\n          backSlash.push(mirrorBoard[i][j]);\n        } \n      }\n    }\n\n    if (slash.every(val => val === activePlayer) || backSlash.every(val => val === activePlayer)) {        \n      return true;\n    }\n\n    return false;\n  }\n\n</script>\n\n<style>\n\t#app {\n    position: absolute;\n    left: 50%;\n    top: 20%;\n    transform: translateX(-50%);\n    display: inline-flex;\n    flex-direction: column;\n    margin: 0 auto;\n\t\tcolor: #2c3e50;\n\t\tborder: 1px solid #000;\n  }\n\n  .info {\n    text-align: center;\n  }\n\n  .results {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-bottom: 10px;\n  }\n</style>\n\n\n<div id=\"app\">\n  <Score {matches}, {wins}></Score>\n  { #if gameStatus == 'start'}\n    <Setup on:start={startGame}></Setup>\n  {:else if gameStatus == 'turn'}\n    <div class=\"info\">\n      <p>Ход игрока {activePlayer} </p>\n    </div>\n    <Board {scale}, {activePlayer} on:step={makeStep}></Board>\n  {:else}\n    <div class=\"results\">\n      <p> Игрок {notActivePlayer} победил </p>\n      <button class=\"btn\" on:click={restart}>Начать новую игру</button>\n    </div>\n  {/if}\n</div>",
    "<script>\r\n  import Cell from './Cell.svelte';\r\n\r\n  export let scale;\r\n  export let activePlayer;\r\n  let scaleArr = [];\r\n  \r\n  $: for (let i = 0; i < scale; i++) { \r\n    scaleArr.push(i);\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .board {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 5px;\r\n    max-width: 900px;\r\n    overflow-x: scroll;\r\n  }\r\n  .row {\r\n    display: flex;\r\n  }\r\n</style>\r\n\r\n<main>\r\n  <div class=\"board\">\r\n    {#each scaleArr as {}, row}\r\n      <div class=\"row\">\r\n        {#each scaleArr as {}, col}\r\n          <Cell {row} {col} {activePlayer} on:step></Cell>\r\n        {/each}\r\n      </div>\r\n    {/each}\r\n  </div>\r\n</main>",
    "<script>\r\n  import { createEventDispatcher } from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n  let scale = 3;\r\n\r\n  function startGame() {\r\n    dispatch('start', scale);\r\n  }\r\n</script>\r\n\r\n<style>\r\n  form {\r\n    background: #f3f3f3;\r\n    padding: 10px;\r\n  }\r\n\r\n  form, label {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n\r\n  input {\r\n    width: 60px;\r\n    min-height: 35px;\r\n    font-size: 18px;\r\n    border: 1px solid #ced4da;\r\n    border-radius: 2px;\r\n    text-align: center;\r\n  }\r\n  span {\r\n    margin-right: 5px;\r\n  }\r\n</style>\r\n\r\n<form on:submit|preventDefault={startGame}>\r\n  <label>\r\n    <span>Размер поля:</span><input type=\"number\" min=\"3\" max=\"15\" bind:value=\"{scale}\">\r\n  </label> \r\n  <button class=\"btn\" type=\"submit\">Начать игру</button>\r\n</form>\r\n  ",
    "<script>\r\n  export let matches = 0;\r\n  export let wins = {};\r\n</script>\r\n\r\n<style>\r\n  header {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  h1 {\r\n    text-align: center;\r\n    font-size: 25px;\r\n  }\r\n\r\n  .info {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    background-color: #3498db;\r\n    color: #fff;\r\n  }\r\n  span {\r\n    margin: 10px;\r\n  }\r\n</style>\r\n\r\n<header>\r\n  <h1>\r\n    Крестики нолики\r\n  </h1>\r\n  <div class=\"info\">\r\n    <span>\r\n    0 победил {wins.O} раз\r\n    </span>\r\n    <span>\r\n      Матч № {matches}\r\n    </span>\r\n    <span>\r\n      X победил {wins.X} раз\r\n    </span> \r\n  </div>\r\n</header>",
    "<script>\r\n  import { createEventDispatcher } from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n  export let row;\r\n  export let col;\r\n  export let activePlayer;\r\n  \r\n  let active = true;\r\n  let player = '';\r\n\r\n  function makeStep() {\r\n    if (active) {\r\n      dispatch('step', { row, col });\r\n      active = false;\r\n      player = activePlayer;\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  button {\r\n    flex-shrink: 0;\r\n    width: 110px;\r\n    height: 110px;\r\n    background-color: #ddd;\r\n    border: 1px solid #000;\r\n    margin: 1px;\r\n    cursor: pointer;\r\n    transition: background-color, .4s;\r\n  }\r\n\r\n  button:hover {\r\n    background-color: #34495e;\r\n  }\r\n\r\n  .inactive {\r\n    background-color: #ecf0f1;\r\n    cursor: not-allowed;\r\n    animation: pulse 1s;\r\n  }\r\n\r\n  .inactive.x, .inactive.o {\r\n    position: relative;\r\n  }\r\n\r\n  .inactive.x:before {\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 75%;\r\n    height: 20%;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotateZ(45deg);\r\n    background: #000;\r\n  }\r\n\r\n  .inactive.x:after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) rotateZ(45deg);\r\n    width: 20%;\r\n    height: 75%;\r\n    background-color: #000;\r\n  }\r\n\r\n  .inactive.o:before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    border-radius: 50%;\r\n    width: 75%;\r\n    height: 75%;\r\n    background: #1abc9c;\r\n  }\r\n\r\n  .inactive.o:after{\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    border-radius: 50%;\r\n    width: 50%;\r\n    height: 50%;\r\n    background-color: #ecf0f1;\r\n  }\r\n\r\n  @keyframes pulse {\r\n    from {\r\n      transform: scale3d(1, 1, 1);\r\n    }\r\n\r\n    50% {\r\n      transform: scale3d(1.1, 1.1, 1.1);\r\n    }\r\n\r\n    to {\r\n      transform: scale3d(1, 1, 1);\r\n    }\r\n  }\r\n</style>\r\n\r\n<button \r\n  class:inactive={!active} \r\n  class:x={player === 'X'} \r\n  class:o={player === 'O'} \r\n  on:click=\"{makeStep}\"\r\n>\r\n</button>"
  ],
  "names": [],
  "mappings": "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"
}