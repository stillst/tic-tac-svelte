{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../src/App.svelte",
    "../src/components/Board.svelte",
    "../src/components/Setup.svelte",
    "../src/components/Score.svelte",
    "../src/components/Cell.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import Board from './components/Board.svelte';\n  import Setup from './components/Setup.svelte';\n  import Score from './components/Score.svelte';\n  import { activePlayer } from './store.js';\n\n  let matches = 0;\n  let wins = { O: 0, X: 0 };\n  let scale = 3;\n  let gameStatus = 'start';\n  let board = {};\n  let mirrorBoard = {};\n  let moves = 0;\n\n  $: for (let row = 0; row < scale; row++) {\n    board[row] = {};\n    mirrorBoard[row] = {};\n\n    for (let col = 0; col < scale; col++) {\n      board[row][col] = '!';\n      mirrorBoard[row][col] = 'f';\n    }\n  }\n\n  $: notActivePlayer = $activePlayer === 'X'\n    ? 'O'\n    : 'X';\n\n  function startGame(event) {\n    scale = event.detail;\n    gameStatus = 'turn';\n  }\n\n  function restart() {\n    scale = 0;\n    moves = 0;\n    gameStatus = 'start';\n  }\n\n  function makeStep(event) {\n    moves++;\n    updateBoards(event.detail);\n    updateGameStatus();\n    updateActivePlayer();\n  }\n\n  function updateBoards(info) {\n    board[info.row][info.col] = $activePlayer;\n    mirrorBoard[info.col][info.row] = $activePlayer;\n  }\n\n  function updateGameStatus() {\n    if (isActivePlayerWin()) {\n      gameStatus = 'win';\n      matches++;\n      wins[$activePlayer]++;\n    }\n\n    else if (moves === scale * scale) {\n      gameStatus = 'draw';\n      matches++;\n    }\n  }\n\n  function updateActivePlayer() {\n    activePlayer.update(() => notActivePlayer);\n  }\n\n  function isActivePlayerWin() {\n    return isWinByСross(board)\n      || isWinByСross(mirrorBoard)\n      || isWinBySlash();\n  }\n\n  function isWinByСross(activeBoard) {\n    const rows = Object.keys(activeBoard)\n\n    for (const row of rows) {\n      if (Object.values(activeBoard[row]).every(val => val === $activePlayer)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function isWinBySlash() {\n    const slash = [];\n    const backSlash = [];\n\n    for (let i = 0; i < scale; i++) {\n      for (let j = 0; j < scale; j++) {\n        if (i === j) {\n          slash.push(board[i][j]);\n        }\n        else if (i + j === scale - 1) {\n          backSlash.push(mirrorBoard[i][j]);\n        }\n      }\n    }\n\n    if (slash.every(val => val === $activePlayer) || backSlash.every(val => val === $activePlayer)) {\n      return true;\n    }\n\n    return false;\n  }\n\n</script>\n\n<style>\n\t#app {\n    position: absolute;\n    left: 50%;\n    top: 20%;\n    transform: translateX(-50%);\n    display: inline-flex;\n    flex-direction: column;\n    margin: 0 auto;\n\t\tcolor: #2c3e50;\n\t\tborder: 1px solid #000;\n  }\n\n  .info {\n    text-align: center;\n  }\n\n  .results {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-bottom: 10px;\n  }\n</style>\n\n\n<div id=\"app\">\n  <Score {matches}, {wins}></Score>\n  { #if gameStatus == 'start'}\n    <Setup on:start={startGame}></Setup>\n  {:else if gameStatus == 'turn'}\n    <div class=\"info\">\n      <p>Ход №{moves} игрок - {$activePlayer} </p>\n    </div>\n    <Board {scale} on:step={makeStep}></Board>\n  {:else}\n    <div class=\"results\">\n      { #if gameStatus == 'win'}\n        <p> Игрок {notActivePlayer} победил </p>\n        {:else}\n        <p>Ничья</p>\n      {/if}\n      <button class=\"btn\" on:click={restart}>Начать новую игру</button>\n    </div>\n  {/if}\n</div>\n",
    "<script>\n  import Cell from './Cell.svelte';\n\n  export let scale;\n  let scaleArr = [];\n\n  $: for (let i = 0; i < scale; i++) {\n    scaleArr.push(i);\n  }\n</script>\n\n<style>\n  .board {\n    display: flex;\n    flex-direction: column;\n    padding: 15px;\n    max-width: 900px;\n    overflow-x: auto;\n  }\n  .row {\n    display: flex;\n  }\n</style>\n\n<main class=\"board\">\n  {#each scaleArr as {}, row}\n    <div class=\"row\">\n      {#each scaleArr as {}, col}\n        <Cell {row} {col} on:step></Cell>\n      {/each}\n    </div>\n  {/each}\n</main>\n",
    "<script>\n  import { createEventDispatcher } from 'svelte';\n  const dispatch = createEventDispatcher();\n  let scale = 3;\n\n  function startGame() {\n    dispatch('start', scale);\n  }\n</script>\n\n<style>\n  form {\n    background: #f3f3f3;\n    padding: 10px;\n  }\n\n  form, label {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  input {\n    width: 60px;\n    min-height: 35px;\n    font-size: 18px;\n    border: 1px solid #ced4da;\n    border-radius: 2px;\n    text-align: center;\n  }\n  span {\n    margin-right: 5px;\n  }\n</style>\n\n<form on:submit|preventDefault={startGame}>\n  <label>\n    <span>Размер поля:</span><input type=\"number\" min=\"3\" max=\"15\" bind:value=\"{scale}\">\n  </label> \n  <button class=\"btn\" type=\"submit\">Начать игру</button>\n</form>\n  ",
    "<script>\n  export let matches = 0;\n  export let wins = {};\n</script>\n\n<style>\n  header {\n    display: flex;\n    flex-direction: column;\n  }\n\n  h1 {\n    text-align: center;\n    font-size: 25px;\n  }\n\n  .info {\n    display: flex;\n    justify-content: space-between;\n    background-color: #3498db;\n    color: #fff;\n  }\n  span {\n    margin: 10px;\n  }\n</style>\n\n<header>\n  <h1>\n    Крестики нолики\n  </h1>\n  <div class=\"info\">\n    <span>\n      {wins.O} побед ноликов\n    </span>\n    <span>\n      Матч № {matches}\n    </span>\n    <span>\n      {wins.X} побед крестиков\n    </span> \n  </div>\n</header>",
    "<script>\n  import { createEventDispatcher } from 'svelte';\n  import { activePlayer } from '../store.js';\n\n  export let row;\n  export let col;\n  let active = true;\n  let player = '';\n  const dispatch = createEventDispatcher();\n\n  function makeStep() {\n    if (active) {\n      active = false;\n      player = $activePlayer;\n      dispatch('step', { row, col });\n    }\n  }\n</script>\n\n<style>\n  button {\n    flex-shrink: 0;\n    width: 110px;\n    height: 110px;\n    background-color: #ddd;\n    border: 1px solid #000;\n    margin: 1px;\n    cursor: pointer;\n    transition: background-color, .4s;\n  }\n\n  button:hover {\n    background-color: #34495e;\n  }\n\n  .inactive {\n    background-color: #ecf0f1;\n    cursor: not-allowed;\n    animation: pulse 1s;\n  }\n\n  .inactive.x, .inactive.o {\n    position: relative;\n  }\n\n  .inactive.x:before {\n    content: \"\";\n    position: absolute;\n    width: 75%;\n    height: 20%;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%) rotateZ(45deg);\n    background: #000;\n  }\n\n  .inactive.x:after {\n    content: \"\";\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%) rotateZ(45deg);\n    width: 20%;\n    height: 75%;\n    background-color: #000;\n  }\n\n  .inactive.o:before {\n    content: \"\";\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 50%;\n    width: 75%;\n    height: 75%;\n    background: #1abc9c;\n  }\n\n  .inactive.o:after{\n    content: \"\";\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 50%;\n    width: 50%;\n    height: 50%;\n    background-color: #ecf0f1;\n  }\n\n  @keyframes pulse {\n    from {\n      transform: scale3d(1, 1, 1);\n    }\n\n    50% {\n      transform: scale3d(1.1, 1.1, 1.1);\n    }\n\n    to {\n      transform: scale3d(1, 1, 1);\n    }\n  }\n</style>\n\n<button\n  class:inactive={!active}\n  class:x={player === 'X'}\n  class:o={player === 'O'}\n  on:click=\"{makeStep}\"\n>\n</button>\n"
  ],
  "names": [],
  "mappings": "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"
}